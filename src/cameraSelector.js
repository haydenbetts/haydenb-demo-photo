define(["src/exposureFunctions","src/cameraData"],function(e,t){var n,r,i,s=function(e,s,u){n=e,r=s,i=u;var a={cameras:[]},f={};$.each(t.cameras,function(e,t){var n=t.cropFactor+", ",i=[t.name],s="f"+t.lens[0].maxAperture;t.lens.length>1?(i.push(t.lens[0].focalLength+"-"+t.lens[1].focalLength+"mm"),t.lens[1].maxAperture!==t.lens[0].maxAperture&&(s+="-"+t.lens[1].maxAperture)):i.push(t.lens[0].focalLength+"mm"),i.push(s),r.append($("<option>").attr("data-index",e).text(i.join(", ")))}),r.change(function(){var e=r.find("option:selected").attr("data-index");console.log("selected ",e),o(e)}),o(0)},o=function(e){var r=t.cameras[e];r.focalLength50=Math.round(500/r.cropFactor)/10,r.cropFactor===1&&(r.fullFrame=!0),"ISO"in r&&(n.cameraSpec.minISO=r.ISO.min,n.cameraSpec.maxISO=r.ISO.max),"cropFactor"in r?n.cameraSpec.cropFactor=r.cropFactor:n.cameraSpec.cropFactor=categories[0].cropFactor,n.cameraSpec.lens=r.lens,console.log("cameraSpec = "+JSON.stringify(n.cameraSpec)),typeof i!="undefined"&&i(["cameraSpec","cropFactor"])};return{setup:s}})